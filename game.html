<html>
    
    <canvas id="gameCanvas" width="800" height="600"></canvas>

<script>
    
    var canvas;
    var canvascontext;
    var ballX = 50;
    var ballSpeedX = 5;
    var ballY = 10;
    var ballSpeedY = 4;
    var paddle1Y = 250;
    
    //const - never change
    const paddleHeight = 100;
    
    //call everytime mouse moves
    function calculateMousePos(evt) {
        var rect = canvas.getBoundingClientRect();
        var root = document.documentElement;
        var mouseX = evt.clientX - rect.left - root.scrollLeft;
        var mouseY = evt.clientY - rect.top - root.scrollTop;
        return {
            x:mouseX,
            y:mouseY
        };
    }
    
    window.onload = function () {
        canvas = document.getElementById('gameCanvas');
        canvascontext = canvas.getContext('2d');
        
        //temp local variable
        var framesPerSecond = 30;
        //Inline
        setInterval(function callBoth() {
            moveEverything();
            drawEverything();
        }, 1000/framesPerSecond);
        
        canvas.addEventListener('mousemove', function(evt) {
            var mousePos = calculateMousePos(evt);
            paddle1Y = mousePos.y-(paddleHeight/2);
        });
    }
    
    function moveEverything() {
        //Ball speed
        ballX = ballX + ballSpeedX;
        ballY = ballY + ballSpeedY;
        
        if(ballX < 0) {
            ballSpeedX = -ballSpeedX;
        }
        
        if(ballX > canvas.width) {
            ballSpeedX = -ballSpeedX;
            
        }
         
        if(ballY < 0) {
            ballSpeedY = -ballSpeedY;
        }
        
        if(ballY > canvas.height) {
            ballSpeedY = -ballSpeedY;
        }
        
    }
    
    function drawEverything() {
        //background
        colourRect(0,0,canvas.width,canvas.height, 'black');
        //left paddle
        colourRect(0,paddle1Y,10,paddleHeight,'white');
        
        //draws ball
        colourCircle(ballX, ballY, 10, 'white');
    }
    
    function colourCircle(centerX, centerY, radius, drawColour) {
        canvascontext.fillStyle = drawColour;
        canvascontext.beginPath();
        canvascontext.arc(centerX, centerY, radius, 0,Math.PI*2, true);
        canvascontext.fill();
    }
    
    function colourRect(leftX, topY, width, height, drawColour) {
        //background
        canvascontext.fillStyle = drawColour;
        canvascontext.fillRect(leftX,topY, width,height);
    }
    
    </script>

</html>